(function(t){function e(e){for(var i,r,n=e[0],c=e[1],d=e[2],u=0,m=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,n=1;n<a.length;n++){var c=a[n];0!==s[c]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},s={app:0},o=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/sisacad/graduacion/gt-administrativo/administrativo/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var d=0;d<n.length;d++)e(n[d]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0167":function(t,e,a){"use strict";var i=a("075f"),s=a.n(i);s.a},"034f":function(t,e,a){"use strict";var i=a("85ec"),s=a.n(i);s.a},"075f":function(t,e,a){},"089d":function(t,e,a){"use strict";var i=a("5ff4"),s=a.n(i);s.a},"0c8e":function(t,e,a){},"0f51":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container p-4",staticStyle:{"background-color":"#fff"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col text-center"},[t.array_tramite.length>0?a("h5",{staticClass:"font-weight-bold text-uppercase text-danger",domProps:{textContent:t._s("Grados - Modalidades")}}):a("h5",{staticClass:"text-info",domProps:{textContent:t._s("No existen solicitudes pendientes")}})])]),t._l(t.objectGroups,(function(e,i){return a("div",{key:i,staticClass:"row text-center mt-3"},t._l(t.array_tramite.slice(i*t.itemsPerRow,(i+1)*t.itemsPerRow),(function(e,i){return a("div",{key:i,staticClass:"col-lg-4"},[a("div",{staticClass:"counter"},[a("h5",{staticClass:"count-text-title",domProps:{textContent:t._s(e.nombre)}}),a("h2",{staticClass:"timer count-title count-number text-danger",domProps:{textContent:t._s(e.total_expedientes)}}),a("p",{staticClass:"count-text"},[t._v("Solicitudes pendientes")]),a("br"),a("b-button",{attrs:{pill:"",variant:"info"},on:{click:function(a){return t.mostrarProcedimientos(e)}}},[t._v(" Ver procedimientos ")])],1)])})),0)}))],2)},s=[],o=(a("a630"),a("d3b7"),a("3ca3"),a("ddb0"),{name:"inicio",data:function(){return{url:this.$root.API_URL,array_tramite:[],itemsPerRow:3}},computed:{objectGroups:function(){return Array.from(Array(Math.ceil(this.array_tramite.length/this.itemsPerRow)).keys())}},created:function(){this.getTramites()},methods:{getTramites:function(){var t=this,e=this.$store.getters.getUsuario,a=new FormData;a.append("codi_usuario",e.codi_usuario),a.append("idrol",e.idrol),this.axios.post("".concat(this.url,"/Tramite/inicio"),a).then((function(e){e.data.error?console.log(e.data.message):t.array_tramite=e.data.array_tramite}))},mostrarProcedimientos:function(t){this.$store.dispatch("setTramite",t),this.$router.push({name:"procedimientos"})}}}),r=o,n=a("2877"),c=Object(n["a"])(r,i,s,!1,null,null,null);e["default"]=c.exports},1429:function(t,e,a){},"14a4":function(t,e,a){},1587:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid",staticStyle:{"background-color":"#fff",padding:"20px"}},[a("h5",{staticClass:"text-center font-weight-bold text-uppercase text-danger",domProps:{textContent:t._s(t.procedimiento.nombre)}}),a("p",{staticClass:"narrow text-center",domProps:{textContent:t._s(t.procedimiento.descripcion)}}),a("div",{staticClass:"text-center m-3"},[a("b-button",{attrs:{to:{name:"bandeja"},variant:"outline-info"}},[a("b-icon",{attrs:{icon:"arrow-left-short"}}),t._v("Atras ")],1)],1),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{vertical:"",card:"",pills:""}},[a("b-tab",{attrs:{title:"Trámite",active:""}},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:"",justified:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"}},[a("b-tab",{attrs:{title:"Graduando"}},[a("b-card",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[t._v("CUI")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.cui)}})]),a("div",{staticClass:"form-group col-md-9"},[a("label",{staticClass:"text-info"},[t._v("Apellidos y Nombres")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.apell_nombres)}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[t._v("E-mail")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.email)}})]),a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[t._v("Teléfono")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.telefono_movil)}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"text-info"},[t._v("Dirección")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.direccion)}})])])])],1),a("b-tab",{attrs:{title:"Expediente"}},[a("b-card",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"text-info"},[t._v("Código")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.codigo)}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"text-info"},[t._v("Fecha de creación")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.fing)}})]),a("div",{staticClass:"form-group col-md-8"},[a("label",{staticClass:"text-info"},[t._v("Programa de estudios")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.escuela)}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"text-info"},[t._v("Fecha primera matrícula")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.fecha_primera_matricula)}})]),a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"text-info"},[t._v("Fecha máxima de evaluación")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.max_fecha_evaluacion)}})]),a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"text-info"},[t._v("Créditos")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.creditos)}})])])])],1),a("b-tab",{attrs:{title:"Documentos"}},[a("form",{ref:"show_file",attrs:{action:t.url_show_file,target:"my-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"}})]),a("b-table",{attrs:{items:t.array_archivo,fields:t.columnas_archivos,striped:"",bordered:"",hover:"",small:"",responsive:"","show-empty":"","empty-text":"No hay documentos que mostrar.","primary-key":"id"},scopedSlots:t._u([{key:"cell(descargar)",fn:function(e){return[a("b-button",{attrs:{variant:"warning",size:"sm",title:"Descargar"},on:{click:function(a){return t.mostrarArchivo(e.item.id,e.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1)]}}])})],1)],1)],1)],1),a("b-tab",{attrs:{title:"Procedencia"}},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"}},[a("b-tab",{attrs:{title:"Estado de expediente"}},[a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{attrs:{col:"",lg:"10"}},[a("table",{staticClass:"table table-bordered table-borderless"},[a("tbody",[a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Procedimiento:")]),a("td",{domProps:{textContent:t._s(t.movimiento.procedimiento_origen)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Rol / Área:")]),null!=t.movimiento.rol_area_origen?a("td",{domProps:{textContent:t._s(t.movimiento.rol_area_origen)}}):a("td",{domProps:{textContent:t._s(t.movimiento.tipo_rol)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Responsable:")]),a("td",{domProps:{textContent:t._s(t.movimiento.nombre_usuario)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Acción realizada:")]),a("td",[a("b-badge",{staticClass:"accion",attrs:{variant:t.movimiento.clase},domProps:{textContent:t._s(t.movimiento.accion)}})],1)]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Fecha / Hora:")]),a("td",{domProps:{textContent:t._s(t.movimiento.fecha+" hrs.")}},[t._v("johncarter@mail.com")])])])])])],1)],1),t.array_archivo_ultimo.length>0?a("b-tab",{attrs:{title:"Archivos adjuntos"}},[a("form",{ref:"show_file_ultimo",attrs:{action:t.url_show_file,target:"my-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"}})]),a("b-table",{attrs:{items:t.array_archivo_ultimo,fields:t.columnas_archivos_ultimo,striped:"",bordered:"",borderless:"",responsive:"","show-empty":"","empty-text":"No hay archivos que mostrar.","primary-key":"id"},scopedSlots:t._u([{key:"cell(descargar)",fn:function(e){return[a("b-button",{attrs:{variant:"warning",size:"sm",title:"Descargar"},on:{click:function(a){return t.mostrarArchivoUltimo(e.item.id,e.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1)]}}],null,!1,4066017)})],1):t._e()],1)],1)],1),null!=t.movimiento?a("b-tab",{attrs:{title:"Derivación"}},[null!=t.graduando?a(t.procedimiento.componente,{tag:"component",attrs:{movimiento:t.movimiento}}):t._e()],1):t._e()],1)],1)],1),a("div",{staticClass:"modal fade centered-modal",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-primary modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.nombre_documento)}}),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.modal=0}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("iframe",{attrs:{name:"my-frame",src:t.url_show_file,width:"660",height:"380",frameborder:"0",allowtransparency:"true"}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.modal=0}}},[t._v("Cerrar")])])])])])])},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),null!=t.ruta_seleccionada?a(t.ruta_seleccionada.etiqueta,{tag:"component",attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()],1):t._e()},r=[],n=(a("fb6a"),a("d3b7"),a("25f0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Verificar pagos","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("b-table",{attrs:{bordered:"",striped:"",items:t.array_pagos,fields:t.columnas_pagos,"show-empty":"","empty-text":"No hay pagos que mostrar.",busy:t.isBusy},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v("Cargando...")])],1)]},proxy:!0}],null,!1,2328017198)}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"2. Adjuntar documentos","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"2",array_opciones:t.array_tipo_documento}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"3. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:2==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)}),c=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{staticClass:"mb-3",on:{submit:function(e){return e.preventDefault(),t.registrarDocumento(e)}}},[null==t.array_opciones?a("b-row",[a("b-col",{attrs:{sm:"12",md:"8",lg:"8"}},[a("b-form-file",{attrs:{placeholder:"Seleccione un archivo...",accept:".jpg, .png, .pdf",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-col",{attrs:{sm:"12",md:"4",lg:"4"}},[a("b-button",{attrs:{type:"submit",variant:"success",title:"Subir Archivo",disabled:t.array_documento.length==t.max_docs}},[a("b-icon",{attrs:{icon:"plus-circle"}})],1)],1)],1):a("b-row",[a("b-col",{attrs:{sm:"12",md:"3",lg:"3"}},[a("b-form-select",{staticClass:"mr-3",attrs:{options:t.array_opciones,required:""},model:{value:t.opcion_documento,callback:function(e){t.opcion_documento=e},expression:"opcion_documento"}})],1),a("b-col",{attrs:{sm:"12",md:"6",lg:"6"}},[a("b-form-file",{attrs:{placeholder:"Seleccione un archivo...",accept:".jpg, .png, .pdf",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-col",{attrs:{sm:"12",md:"3",lg:"3"}},[a("b-button",{attrs:{type:"submit",variant:"success",title:"Subir Archivo",disabled:t.array_documento.length==t.max_docs}},[a("b-icon",{attrs:{icon:"plus-circle"}})],1)],1)],1)],1),a("b-table",{attrs:{items:t.array_documento,fields:t.columnas_documento,striped:"",bordered:"",small:"","show-empty":"","empty-text":"No hay documentos que mostrar.","primary-key":"id",busy:t.estaOcupado},scopedSlots:t._u([{key:"cell(acciones)",fn:function(e){return[a("form",{ref:"show_file",attrs:{action:t.url_show_file,target:"document-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"},domProps:{value:e.item.id}})]),a("b-button",{staticClass:"mr-1",attrs:{variant:"warning",size:"sm",title:"Visualizar"},on:{click:function(a){return t.mostrarArchivo(e.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1),a("b-button",{attrs:{variant:"danger",size:"sm",title:"Eliminar"},on:{click:function(a){return t.eliminarDocumento(e.item)}}},[a("b-icon",{attrs:{icon:"trash"}})],1)]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v("Cargando...")])],1)]},proxy:!0}])}),a("div",{staticClass:"modal fade centered-modal",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-primary modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.nombre_documento)}}),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.modal=0}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("iframe",{attrs:{name:"document-frame",src:t.url_show_file,width:"660",height:"380",frameborder:"0",allowtransparency:"true"}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.modal=0}}},[t._v("Cerrar")])])])])])],1)},l=[],u={name:"documentos",props:{ruta:Object,nombre_asignado:String,array_opciones:Array,max_docs:String},data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,procedimiento:this.$store.getters.getProcedimiento,expediente:this.$store.getters.getExpediente,url_show_file:this.$root.API_URL+"/utils/show_file.php",array_documento:[],columnas_documento:[{key:"nombre_asignado",label:"Nombre documento"},{key:"nombre_archivo",label:"Nombre archivo"},{key:"acciones",label:"Acciones",class:"text-center"}],file:null,estaOcupado:!1,modal:0,nombre_documento:"",opcion_documento:null}},created:function(){this.getDocumento()},methods:{cantidadDocumentos:function(){return this.array_documento.length},mostrarArchivo:function(t){this.$refs.show_file.submit(),this.nombre_documento=t,this.modal=1},getDocumento:function(){var t=this,e=new FormData;e.append("idprocedimiento",this.procedimiento.id),e.append("idusuario",this.usuario.id),e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Archivo/get"),e).then((function(e){if(e.data.error)console.log(e.data.message);else for(var a in t.array_documento=e.data.array_documento,t.array_documento)t.deshabilitarTipoDocumento(t.array_documento[a].nombre_asignado)}))},registrarDocumento:function(){var t,e=this;t=null!=this.nombre_asignado?this.nombre_asignado:this.opcion_documento;var a=new FormData;a.append("idexpediente",this.expediente.id),a.append("idprocedimiento",this.procedimiento.id),a.append("idusuario",this.usuario.id),a.append("idruta",this.ruta.id),a.append("nombre_asignado",t),a.append("file",this.file),this.estaOcupado=!0,this.axios.post("".concat(this.url,"/Archivo/store"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.resetearValores(),t.data.error?e.$root.errorAlert(t.data.message):(e.$root.successAlert(t.data.message),e.getDocumento())}))},eliminarDocumento:function(t){var e=this,a=new FormData;a.append("id",t.id),this.$bvModal.msgBoxConfirm("¿Esta seguro de eliminar el documento?",{title:"Eliminar documento",okVariant:"danger",okTitle:"SI",cancelTitle:"NO",centered:!0}).then((function(i){i&&e.axios.post("".concat(e.url,"/Archivo/delete"),a).then((function(a){e.resetearValores(),e.habilitarTipoDocumento(t.nombre_asignado),a.data.error?e.$root.errorAlert(a.data.message):(e.$root.successAlert(a.data.message),e.getDocumento())}))}))},habilitarTipoDocumento:function(t){for(var e in this.array_opciones)if(this.array_opciones[e].value==t){this.array_opciones[e].disabled=!1;break}},deshabilitarTipoDocumento:function(t){for(var e in this.array_opciones)if(this.array_opciones[e].value==t){this.array_opciones[e].disabled=!0;break}},resetearValores:function(){this.file=null,this.errors=[],this.opcion_documento=null,this.estaOcupado=!1}}},m=u,p=(a("8c55"),a("2877")),b=Object(p["a"])(m,d,l,!1,null,"60281066",null),h=b.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{attrs:{col:"",lg:"8"}},[a("p",{staticClass:"text-justify"},[a("b",[t._v("Nota: ")]),t._v(" La acción "+t._s(t.ruta.accion)+" permite derivar el expediente al procedimiento "),a("b",[t._v(t._s(t.ruta.procedimiento_destino))]),t._v(" a cargo de "),a("b",[t._v(t._s(t.ruta.rol_area_destino))])])])],1),a("b-button",{staticClass:"m-1",attrs:{variant:"success"},on:{click:function(e){return t.mover(t.ruta)}}},[t._v("Derivar")])],1)},_=[],v={name:"movimiento-expediente",props:{movimiento:Object,ruta:Object},data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,expediente:this.$store.getters.getExpediente}},methods:{mover:function(t){var e=this;this.$bvModal.msgBoxConfirm("¿Seguro que quiere derivar este expediente?",{title:"Derivar Expediente",okVariant:"success",okTitle:"Derivar",cancelTitle:"Cancelar",centered:!0}).then((function(a){if(a){var i=new FormData;i.append("idexpediente",e.expediente.id),i.append("idusuario",e.usuario.id),i.append("idruta",t.id),i.append("idproc_origen",t.idproc_origen),i.append("idproc_destino",t.idproc_destino),i.append("idmov_anterior",e.movimiento.id),i.append("estado_expediente",t.accion),e.axios.post("".concat(e.url,"/Movimiento/mover"),i).then((function(t){t.data.error?e.$root.errorAlert(t.data.message):(e.$root.successAlert(t.data.message),e.$router.push({name:"bandeja"}))}))}}))}}},g=v,x=Object(p["a"])(g,f,_,!1,null,null,null),y=x.exports,C={name:"aprobar",props:{ruta:Object,movimiento:Object},components:{documentos:h,movimiento_expediente:y},data:function(){return{url:this.$root.API_URL,graduando:this.$store.getters.getGraduando,expediente:this.$store.getters.getExpediente,tabIndex:0,tabIndex2:0,array_conceptos:[13,27,961],conceptos:{13:"CONSTANCIA DE INGRESO O DE EGRESADO",27:"CONSTANCIA DE BIBLIOTECA",961:"CONSTANCIA PRIMERA MATRICULA PREGRADO"},array_pagos:[],array_tipo_documento:[{value:null,text:"--Seleccione tipo--",disabled:!0},{value:"Constancia de idiomas",text:"Constancia de idiomas",disabled:!1},{value:"Antecedentes penales",text:"Antecedentes penales",disabled:!1}],columnas_pagos:[{key:"concepto",label:"Concepto de pago",class:"text-left"},{key:"nro_recibo",label:"Núm. recibo",class:"text-center"},{key:"fecha_pago",label:"Fecha de pago",class:"text-center"},{key:"monto",label:"Monto pagado",class:"text-center"}],asesor:null,errors:[],isBusy:!1}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id),this.getPagos()},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=this.validarTab1()),1==this.tabIndex&&(t=this.validarTab2()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return this.verificarPagos(),!this.errors.length},validarTab2:function(){return this.$refs.documentos.cantidadDocumentos()<2&&this.errors.push("Debe adjuntar 2 documentos para el expediente seleccionado."),!this.errors.length},getPagos:function(){var t=this,e=new FormData;e.append("cui",this.graduando.cui),e.append("nues",this.expediente.nues),e.append("espe",this.expediente.espe),this.toggleBusy(),this.axios.post("".concat(this.url,"/Caja/getPagosProfesionalTesis"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_pagos=e.data.array_pagos,t.toggleBusy()}))},verificarPagos:function(){if(this.array_pagos.length>0)for(var t=0;t<this.array_conceptos.length;t++){for(var e=!1,a=0;a<this.array_pagos.length;a++)if(this.array_pagos[a].idconcepto==this.array_conceptos[t]){e=!0;break}0==e&&this.errors.push("No se encontró el concepto: ".concat(this.conceptos[this.array_conceptos[t]]))}},toggleBusy:function(){this.isBusy=!this.isBusy}}},A=C,$=(a("6ba7"),a("519c"),Object(p["a"])(A,n,c,!1,null,"6636110e",null)),I=$.exports,k={name:"index",props:{movimiento:Object},components:{aprobar:I},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},w=k,j=(a("2c17"),Object(p["a"])(w,o,r,!1,null,"189d6c74",null)),P=j.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(e.accion)+" ")])]}))],2)])]),null!=t.ruta_seleccionada?a(t.ruta_seleccionada.componente,{tag:"component",attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()],1):t._e()},R=[],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{nombre_archivo_pdf:"autorizacion_emision_diploma.php",boton_nombre:"Autorización emisión diploma"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"1",nombre_asignado:"Autorización de emisión de diploma"}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"3. Derivar expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:2==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},O=[],D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-3"},[a("b-form",{ref:"frm_datos_pdf",staticClass:"mb-3",attrs:{action:t.url_pdf+t.nombre_archivo_pdf,method:"post"},on:{submit:function(e){return e.preventDefault(),t.generarPdf(e)}}},[a("input",{attrs:{type:"hidden",name:"expediente"}}),a("input",{attrs:{type:"hidden",name:"movimiento"}}),a("input",{attrs:{type:"hidden",name:"asesor"}}),a("input",{attrs:{type:"hidden",name:"graduando"}}),a("input",{attrs:{type:"hidden",name:"jurados"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"mx-auto"},[a("b-button",{attrs:{type:"submit",variant:"success"}},[a("b-icon",{attrs:{icon:"file-earmark-arrow-down"}}),t._v(" "+t._s(t.boton_nombre)+" ")],1)],1)])])],1)},S=[],U={name:"generacion-documento",props:{asesor:Object,jurados:Array,nombre_archivo_pdf:String,boton_nombre:String},data:function(){return{url_pdf:"".concat(this.$root.API_URL,"/pdfs/titulo_profesional_sustentacion_tesis/"),graduando:this.$store.getters.getGraduando,expediente:this.$store.getters.getExpediente,show_frame:"none"}},methods:{generarPdf:function(){this.$refs.frm_datos_pdf.expediente.value=JSON.stringify(this.expediente),this.$refs.frm_datos_pdf.graduando.value=JSON.stringify(this.graduando),this.$refs.frm_datos_pdf.asesor.value=JSON.stringify(this.asesor),this.$refs.frm_datos_pdf.jurados.value=JSON.stringify(this.jurados),this.$refs.frm_datos_pdf.submit(),this.show_frame="block"}}},q=U,V=Object(p["a"])(q,D,S,!1,null,null,null),z=V.exports,L={name:"aprobar_expediente",props:{ruta:Object,movimiento:Object},components:{generacion_documento:z,documentos:h,movimiento_expediente:y},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=!0),1==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length}}},N=L,F=(a("7fdf"),a("b648"),Object(p["a"])(N,E,O,!1,null,"003c18bb",null)),B=F.exports,M={name:"index",props:{movimiento:Object},components:{aprobar_expediente:B},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")}},G=M,J=(a("1cbc"),Object(p["a"])(G,T,R,!1,null,"62c315f9",null)),H=J.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),null!=t.ruta_seleccionada?a(t.ruta_seleccionada.etiqueta,{tag:"component",attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()],1):t._e()},K=[],Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{nombre_archivo_pdf:"diploma.php",boton_nombre:"Diploma"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"1",nombre_asignado:"Diploma"}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"3. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:2==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},W=[],Y={name:"finalizar",props:{ruta:Object,movimiento:Object},components:{generacion_documento:z,documentos:h,movimiento_expediente:y},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=!0),1==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length}}},Z=Y,tt=(a("df74"),a("d372"),Object(p["a"])(Z,Q,W,!1,null,"8b125d0c",null)),et=tt.exports,at={name:"index",props:{movimiento:Object},components:{finalizar:et},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},it=at,st=(a("7b16"),Object(p["a"])(it,X,K,!1,null,"142ead92",null)),ot=st.exports,rt={name:"bachiller-automatico",props:{nombre_componente:String,idexpediente:String},components:{verificar_pagos_adjuntar_documentos:P,aprobar_consejo_facultad_autorizar_emision_diploma:H,generar_imprimir_diploma:ot},data:function(){return{url:this.$root.API_URL,url_show_file:"".concat(this.$root.API_URL,"/utils/show_file.php"),usuario:this.$store.getters.getUsuario,procedimiento:this.$store.getters.getProcedimiento,expediente:{},graduando:{},movimiento:{},array_archivo:[],array_archivo_ultimo:[],columnas_archivos:[{key:"nombre",label:"Nombre",class:"text-left",sortable:!0},{key:"procedimiento",label:"Procedimiento",class:"text-left",sortable:!0},{key:"area",label:"Rol-Area",class:"text-center",sortable:!0},{key:"descargar",label:"Archivo",class:"text-center"}],columnas_archivos_ultimo:[{key:"nombre",label:"Nombre",class:"text-left"},{key:"procedimiento",label:"Procedimiento",class:"text-left"},{key:"area",label:"Rol-Area",class:"text-center"},{key:"descargar",label:"Archivo",class:"text-center"}],modal:0,nombre_documento:""}},created:function(){null!=this.idexpediente?(this.getLastMovimiento(),this.getExpediente(),this.getGraduando(),this.getArchivos(),this.getArchivosProcOrigen()):this.$router.push({name:"home"})},methods:{getLastMovimiento:function(){var t=this,e=new FormData;e.append("idproc_destino",this.procedimiento.id),e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Movimiento/ultimoMovimiento"),e).then((function(e){e.data.error?console.log(e.data.message):t.movimiento=e.data.movimiento}))},mostrarArchivo:function(t,e){this.$refs.show_file.file_id.value=t,this.$refs.show_file.submit(),this.nombre_documento=e,this.modal=1},mostrarArchivoUltimo:function(t,e){this.$refs.show_file_ultimo.file_id.value=t,this.$refs.show_file_ultimo.submit(),this.nombre_documento=e,this.modal=1},getExpediente:function(){var t=this,e=new FormData;e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Expediente/getExpById"),e).then((function(e){e.data.error?console.log(e.data.message):(t.expediente=e.data.expediente,t.$store.dispatch("setExpediente",t.expediente))}))},getGraduando:function(){var t=this,e=new FormData;e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/GraduandoExpediente/getGraduando"),e).then((function(e){e.data.error?console.log(e.data.message):(t.graduando=e.data.graduando,t.$store.dispatch("setGraduando",t.graduando))}))},getArchivos:function(){var t=this,e=new FormData;e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Archivo/index"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_archivo=e.data.array_archivo}))},getArchivosProcOrigen:function(){var t=this,e=new FormData;e.append("idprocedimiento",this.procedimiento.id),e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Archivo/show"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_archivo_ultimo=e.data.array_archivo_ultimo}))}}},nt=rt,ct=(a("7406"),Object(p["a"])(nt,i,s,!1,null,"7645857c",null));e["default"]=ct.exports},"1cbc":function(t,e,a){"use strict";var i=a("5765"),s=a.n(i);s.a},"1fef":function(t,e,a){},"20fc":function(t,e,a){"use strict";var i=a("5dc6"),s=a.n(i);s.a},2131:function(t,e,a){},2257:function(t,e,a){},"2aba":function(t,e,a){},"2c17":function(t,e,a){"use strict";var i=a("709c"),s=a.n(i);s.a},"2cc8":function(t,e,a){},"31c3":function(t,e,a){"use strict";var i=a("2131"),s=a.n(i);s.a},3409:function(t,e,a){},"363f":function(t,e,a){},"38cc":function(t,e,a){},3962:function(t,e,a){"use strict";var i=a("5782"),s=a.n(i);s.a},"3a96":function(t,e,a){"use strict";var i=a("8782"),s=a.n(i);s.a},"3bf5":function(t,e,a){},4302:function(t,e,a){"use strict";var i=a("dcb3a"),s=a.n(i);s.a},"44e5":function(t,e,a){},"4b23":function(t,e,a){"use strict";var i=a("e484"),s=a.n(i);s.a},"4d7d":function(t,e,a){"use strict";var i=a("87fc"),s=a.n(i);s.a},"519c":function(t,e,a){"use strict";var i=a("5520"),s=a.n(i);s.a},"52e4":function(t,e,a){"use strict";var i=a("0c8e"),s=a.n(i);s.a},5520:function(t,e,a){},"56b2":function(t,e,a){"use strict";var i=a("363f"),s=a.n(i);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-navbar",{staticClass:"nav-administrativo",attrs:{toggleable:"lg",type:"dark"}},[a("b-navbar-brand",{attrs:{href:"#"}},[t._v("Grados y Títulos - UNSA")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[t._l(t.array_menu,(function(e,i){return[1==e.submenu.length?[a("b-nav-item",{key:i,attrs:{to:{name:e.submenu[0].componente}}},[t._v(" "+t._s(e.nombre)+" ")])]:e.submenu.length>1?[a("b-nav-item-dropdown",{key:i,attrs:{text:e.nombre,left:""}},t._l(e.submenu,(function(e,i){return a("b-dropdown-item",{key:i,attrs:{to:{name:e.componente}}},[t._v(" "+t._s(e.nombre)+" ")])})),1)]:t._e()]}))],2)],1)],1),a("router-view")],1)},o=[],r={name:"app",data:function(){return{url:this.$root.API_URL,codi_usuario:null,codi_menu_grup:null,array_menu:[]}},created:function(){this.getCodiOper()},methods:{getCodiOper:function(){var t=this;this.axios.get("".concat(this.url,"/codi_oper.php")).then((function(e){e.data.error?t.$root.errorAlert(e.data.message):(t.codi_usuario=e.data.codi_oper,t.codi_menu_grup=e.data.codi_menu_grup,t.getUsuario())}))},getUsuario:function(){var t=this,e=new FormData;e.append("codi_usuario",this.codi_usuario),this.axios.post("".concat(this.url,"/Usuario/getUsuario"),e).then((function(e){if(e.data.error)console.log(e.data.message);else{var a=e.data.usuario;t.$store.dispatch("setUsuario",a),t.getMenus()}}))},getMenus:function(){var t=this,e=new FormData;e.append("codi_usuario",this.codi_usuario),e.append("codi_menu_grup",this.codi_menu_grup),this.axios.post("".concat(this.url,"/Usuario/menus"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_menu=e.data.array_menu}))}}},n=r,c=(a("034f"),a("2877")),d=Object(c["a"])(n,s,o,!1,null,null,null),l=d.exports,u=a("fb9a"),m=a.n(u),p=(a("04f2"),a("c789"),a("8c4f"));i["default"].use(p["a"]);var b=[{path:"/",name:"home",component:a("bb51").default},{path:"/expedientes/inicio",name:"inicio",component:a("0f51").default},{path:"/expedientes/procedimientos",name:"procedimientos",component:a("e4d8").default},{path:"/expedientes/bandeja",name:"bandeja",component:a("9692").default},{path:"/expedientes/Bachiller-Automatico",name:"Bachiller-Automatico",component:a("1587").default,props:!0},{path:"/expedientes/TituloProfesional-SustentacionTesis",name:"TituloProfesional-SustentacionTesis",component:a("6aaa").default,props:!0},{path:"/reportes",name:"reportes",component:a("bb51").default,props:!0},{path:"/configuracion",name:"configuracion",component:a("bb51").default,props:!0}],h=new p["a"]({mode:"history",base:"/sisacad/graduacion/gt-administrativo/administrativo/",routes:b}),f=h,_=a("2f62"),v=a("bc3a"),g=a.n(v),x={API_URL:"//190.119.145.150:8023/sisacad/graduacion/gt-administrativo/backend"},y=x;i["default"].use(_["a"]);var C=new _["a"].Store({strict:!1,state:{usuario:null,tramite:null,procedimiento:null,graduando:null,expediente:null,rutas:[],rutaVecinaActiva:!1},mutations:{SET_USUARIO:function(t,e){t.usuario=e},SET_TRAMITE:function(t,e){t.tramite=e},SET_PROCEDIMIENTO:function(t,e){t.procedimiento=e},SET_GRADUANDO:function(t,e){t.graduando=e},SET_EXPEDIENTE:function(t,e){t.expediente=e},SET_RUTAS:function(t,e){t.rutas=e},SET_RUTA_ACTIVA:function(t,e){t.rutaVecinaActiva=e}},actions:{setUsuario:function(t,e){var a=t.commit;a("SET_USUARIO",e)},setTramite:function(t,e){var a=t.commit;a("SET_TRAMITE",e)},setProcedimiento:function(t,e){var a=t.commit;a("SET_PROCEDIMIENTO",e)},setGraduando:function(t,e){var a=t.commit;a("SET_GRADUANDO",e)},setExpediente:function(t,e){var a=t.commit;a("SET_EXPEDIENTE",e)},getRutas:function(t){var e=t.commit,a=t.state,i=new FormData;i.append("idproc_origen",a.procedimiento.id),g.a.post("".concat(y.API_URL,"/Ruta/getRutasByProc"),i).then((function(t){t.data.error?console.log(t.data.message):e("SET_RUTAS",t.data.array_ruta)}))},verificarRecursoRutasVecinas:function(t,e){var a=t.commit,i=t.state,s=new FormData;s.append("idexpediente",i.expediente.id),s.append("idprocedimiento",i.procedimiento.id),s.append("idusuario",i.usuario.id),s.append("idruta",e),g.a.post("".concat(y.API_URL,"/Recurso/verify"),s).then((function(t){t.data.error?console.log(t.data.message):a("SET_RUTA_ACTIVA",t.data.existeRecursoRutaVecinas)}))}},getters:{getUsuario:function(t){return t.usuario},getTramite:function(t){return t.tramite},getProcedimiento:function(t){return t.procedimiento},getGraduando:function(t){return t.graduando},getExpediente:function(t){return t.expediente}},modules:{}}),A=a("5f5b"),$=a("b1e0"),I=a("a7fe"),k=a.n(I),w=a("4a7a"),j=a.n(w),P=a("8e5f"),T=a.n(P),R=a("85ff"),E=a.n(R);a("f9e3"),a("2dd8"),a("5df9"),a("6dfc"),a("e607"),a("5aea");i["default"].use(m.a,{theme:{colors:{primary:"#5b3cc4",success:"rgb(23, 201, 100)",danger:"rgb(242, 19, 93)",warning:"rgb(255, 130, 0)",dark:"rgb(36, 33, 69)"}}}),i["default"].use($["a"]),i["default"].use(k.a,g.a),i["default"].use(A["a"]),i["default"].use($["b"]),i["default"].component("v-select",j.a),i["default"].component("multiselect",T.a);var O=!0,D={isEnabled:!0,logLevel:O?"error":"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!0,separator:"|",showConsoleColors:!0};i["default"].use(E.a,D),i["default"].config.productionTip=!1,new i["default"]({data:{API_URL:y.API_URL,FILE_URL:y.FILE_URL,color_acciones:y.color_acciones,color_estados:y.color_estados,estados:y.estados},methods:{successAlert:function(t){this.$vs.notify({title:"Éxito!",color:"success",time:4e3,icon:"done",text:t,position:"bottom-right"})},errorAlert:function(t){this.$vs.notify({title:"Error!",color:"danger",time:4e3,icon:"error_outline",text:t,position:"bottom-right"})}},router:f,store:C,render:function(t){return t(l)}}).$mount("#app")},5765:function(t,e,a){},5782:function(t,e,a){},"591e":function(t,e,a){"use strict";var i=a("2cc8"),s=a.n(i);s.a},"5aea":function(t,e,a){},"5dc6":function(t,e,a){},"5ff4":function(t,e,a){},6537:function(t,e,a){},"6a24":function(t,e,a){},"6a90":function(t,e,a){},"6aaa":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid",staticStyle:{"background-color":"#fff",padding:"20px"}},[a("h5",{staticClass:"text-center font-weight-bold text-uppercase text-danger",domProps:{textContent:t._s(t.procedimiento.nombre)}}),a("p",{staticClass:"narrow text-center",domProps:{textContent:t._s(t.procedimiento.descripcion)}}),a("div",{staticClass:"text-center m-3"},[a("b-button",{attrs:{to:{name:"bandeja"},variant:"outline-info"}},[a("b-icon",{attrs:{icon:"arrow-left-short"}}),t._v("Atras ")],1)],1),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{lazy:"",vertical:"",card:"",pills:""}},[a("b-tab",{attrs:{title:"Trámite",active:""}},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{lazy:"",card:"",justified:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"}},[a("b-tab",{attrs:{title:"Graduando"}},[a("b-card",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[t._v("CUI")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.cui)}})]),a("div",{staticClass:"form-group col-md-9"},[a("label",{staticClass:"text-info"},[t._v("Apellidos y Nombres")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.apell_nombres)}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[t._v("E-mail")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.email)}})]),a("div",{staticClass:"form-group col-md-3"},[a("label",{staticClass:"text-info"},[t._v("Teléfono")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.telefono_movil)}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"text-info"},[t._v("Dirección")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.graduando.direccion)}})])])])],1),a("b-tab",{attrs:{title:"Expediente"}},[a("b-card",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"text-info"},[t._v("Código")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.codigo)}})]),a("div",{staticClass:"form-group col-md-8"},[a("label",{staticClass:"text-info"},[t._v("Título Proyecto")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.titulo)}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"text-info"},[t._v("Fecha de creación")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.fing)}})]),a("div",{staticClass:"form-group col-md-8"},[a("label",{staticClass:"text-info"},[t._v("Programa de estudios")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.escuela)}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"text-info"},[t._v("Fecha primera matrícula")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.fecha_primera_matricula)}})]),a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"text-info"},[t._v("Fecha máxima de evaluación")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.max_fecha_evaluacion)}})]),a("div",{staticClass:"form-group col-md-4"},[a("label",{staticClass:"text-info"},[t._v("Créditos")]),a("label",{staticClass:"lbl-data",domProps:{textContent:t._s(t.expediente.creditos)}})])])])],1),a("b-tab",{attrs:{title:"Documentos"}},[a("form",{ref:"show_file",attrs:{action:t.url_show_file,target:"my-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"}})]),a("b-table",{attrs:{items:t.array_archivo,fields:t.columnas_archivos,striped:"",bordered:"",hover:"",small:"",responsive:"","show-empty":"","empty-text":"No hay documentos que mostrar.","primary-key":"id"},scopedSlots:t._u([{key:"cell(descargar)",fn:function(e){return[a("b-button",{attrs:{variant:"warning",size:"sm",title:"Descargar"},on:{click:function(a){return t.mostrarArchivo(e.item.id,e.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1)]}}])})],1)],1)],1)],1),a("b-tab",{attrs:{title:"Procedencia"}},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"}},[a("b-tab",{attrs:{title:"Estado de expediente"}},[a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{attrs:{col:"",lg:"10"}},[a("table",{staticClass:"table table-bordered table-borderless"},[a("tbody",[a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Procedimiento:")]),a("td",{domProps:{textContent:t._s(t.movimiento.procedimiento_origen)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Rol / Área:")]),null!=t.movimiento.rol_area_origen?a("td",{domProps:{textContent:t._s(t.movimiento.rol_area_origen)}}):a("td",{domProps:{textContent:t._s(t.movimiento.tipo_rol)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Responsable:")]),a("td",{domProps:{textContent:t._s(t.movimiento.nombre_usuario)}})]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Estado:")]),a("td",[a("b-badge",{staticClass:"estado",attrs:{variant:t.color_acciones[t.movimiento.etiqueta]},domProps:{textContent:t._s(t.estados[t.movimiento.etiqueta])}})],1)]),a("tr",[a("th",{staticClass:"bg-light text-right"},[t._v("Fecha / Hora:")]),a("td",{domProps:{textContent:t._s(t.movimiento.fecha+" hrs.")}},[t._v("johncarter@mail.com")])])])])])],1)],1),t.array_archivo_ultimo.length>0?a("b-tab",{attrs:{title:"Archivos adjuntos"}},[a("form",{ref:"show_file_ultimo",attrs:{action:t.url_show_file,target:"my-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"}})]),a("b-table",{attrs:{items:t.array_archivo_ultimo,fields:t.columnas_archivos_ultimo,striped:"",bordered:"",borderless:"",responsive:"","show-empty":"","empty-text":"No hay archivos que mostrar.","primary-key":"id"},scopedSlots:t._u([{key:"cell(descargar)",fn:function(e){return[a("b-button",{attrs:{variant:"warning",size:"sm",title:"Descargar"},on:{click:function(a){return t.mostrarArchivoUltimo(e.item.id,e.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1)]}}],null,!1,4066017)})],1):t._e()],1)],1)],1),null!=t.movimiento?a("b-tab",{attrs:{title:"Derivación"}},[null!=t.graduando?a(t.procedimiento.componente,{tag:"component",attrs:{movimiento:t.movimiento}}):t._e()],1):t._e()],1)],1)],1),a("div",{staticClass:"modal fade centered-modal",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-primary modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.nombre_documento)}}),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.modal=0}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("iframe",{attrs:{name:"my-frame",src:t.url_show_file,width:"660",height:"380",frameborder:"0",allowtransparency:"true"}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.modal=0}}},[t._v("Cerrar")])])])])])])},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),null!=t.ruta_seleccionada?a(t.ruta_seleccionada.etiqueta,{tag:"component",attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()],1):t._e()},r=[],n=(a("fb6a"),a("d3b7"),a("25f0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:0==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)}),c=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{attrs:{col:"",lg:"8"}},[a("p",{staticClass:"text-justify"},[a("b",[t._v("Nota: ")]),t._v(" La acción "+t._s(t.ruta.etiqueta)+" permite derivar el expediente al procedimiento "),a("b",[t._v(t._s(t.ruta.procedimiento_destino))]),t._v(" a cargo de "),a("b",[t._v(t._s(t.ruta.rol_area_destino))])])])],1),a("b-button",{staticClass:"m-1",attrs:{variant:t.color_acciones[t.ruta.etiqueta]},on:{click:function(e){return t.mover(t.ruta)}}},[t._v(" "+t._s(t._f("capitalize")(t.ruta.etiqueta))+" ")])],1)},l=[],u={name:"movimiento-expediente",props:{movimiento:Object,ruta:Object},data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,expediente:this.$store.getters.getExpediente,color_acciones:this.$root.color_acciones,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},methods:{mover:function(t){var e=this;this.$bvModal.msgBoxConfirm("¿Seguro que quiere "+t.etiqueta+" este expediente?",{title:t.etiqueta.charAt(0).toUpperCase()+t.etiqueta.slice(1)+" Expediente",okVariant:this.color_acciones[t.etiqueta],okTitle:t.etiqueta.charAt(0).toUpperCase()+t.etiqueta.slice(1),cancelTitle:"Cancelar",centered:!0}).then((function(a){if(a){var i=new FormData;i.append("idexpediente",e.expediente.id),i.append("idusuario",e.usuario.id),i.append("idruta",t.id),i.append("idproc_origen",t.idproc_origen),i.append("idproc_destino",t.idproc_destino),i.append("idmov_anterior",e.movimiento.id),i.append("estado_expediente",e.estados[t.etiqueta]),e.axios.post("".concat(e.url,"/Movimiento/mover"),i).then((function(t){t.data.error?e.$root.errorAlert(t.data.message):(e.$root.successAlert(t.data.message),e.$router.push({name:"bandeja"}))}))}}))}}},m=u,p=a("2877"),b=Object(p["a"])(m,d,l,!1,null,null,null),h=b.exports,f={name:"derivar",props:{ruta:Object,movimiento:Object},components:{movimiento_expediente:h},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))}}},_=f,v=(a("75c1"),a("c8e6"),Object(p["a"])(_,n,c,!1,null,"49438412",null)),g=v.exports,x={name:"index",props:{movimiento:Object},components:{derivar:g},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},y=x,C=(a("be79"),Object(p["a"])(y,o,r,!1,null,"456d338b",null)),A=C.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),null!=t.ruta_seleccionada?a(t.ruta_seleccionada.etiqueta,{tag:"component",attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()],1):t._e()},I=[],k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:0==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},w=[],j={name:"aprobar",props:{ruta:Object,movimiento:Object},components:{movimiento_expediente:h},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))}}},P=j,T=(a("b1c4"),a("6b3c"),Object(p["a"])(P,k,w,!1,null,"1fd45f41",null)),R=T.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Añadir observaciones","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("observaciones",{ref:"observaciones",attrs:{ruta:t.ruta}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"2. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:1==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},O=[],D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{staticClass:"mb-3",on:{submit:function(e){return e.preventDefault(),t.guardarObservaciones(e)}}},[a("b-row",{staticClass:"justify-content-lg-center mb-2"},[a("b-col",{attrs:{col:"",lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Observaciones:","label-for":"observaciones"}},[a("b-form-textarea",{attrs:{id:"observaciones",placeholder:"Ingrese al menos 30 caracteres",state:t.observacion.descripcion.length>=30,required:"",rows:"3"},model:{value:t.observacion.descripcion,callback:function(e){t.$set(t.observacion,"descripcion",e)},expression:"observacion.descripcion"}})],1)],1)],1),a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{staticClass:"text-right",attrs:{col:"",lg:"6"}},[a("b-button",{staticStyle:{height:"34px"},attrs:{variant:"success",size:"sm",type:"submit",title:"Guardar"}},[t._v(" Guardar ")])],1)],1)],1),a("b-table",{attrs:{items:t.array_observaciones,fields:t.columnas_observaciones,striped:"",bordered:"",small:"","show-empty":"","empty-text":"No hay observaciones que mostrar.","primary-key":"id"},scopedSlots:t._u([{key:"cell(acciones)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{variant:"warning",size:"sm",title:"Editar"},on:{click:function(a){return t.editarObservaciones(e.item)}}},[a("b-icon",{attrs:{icon:"pencil-square"}})],1),a("b-button",{attrs:{variant:"danger",size:"sm",title:"Eliminar"},on:{click:function(a){return t.eliminarObservaciones(e.item.id)}}},[a("b-icon",{attrs:{icon:"trash"}})],1)]}}])}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1)},S=[],U={name:"observaciones",props:{ruta:Object},data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,procedimiento:this.$store.getters.getProcedimiento,expediente:this.$store.getters.getExpediente,columnas_observaciones:[{key:"descripcion",label:"Observaciones"},{key:"acciones",label:"Acciones",class:"text-center"}],observacion:{id:null,descripcion:""},array_observaciones:[],errors:[]}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},created:function(){this.getObservaciones()},methods:{cantidadObservaciones:function(){return this.array_observaciones.length},editarObservaciones:function(t){this.observacion=Object.assign({},t)},guardarObservaciones:function(){null==this.observacion.id?this.registrarObservaciones():this.actualizarObservaciones()},getObservaciones:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),e.append("idusuario",this.usuario.id),e.append("idprocedimiento",this.procedimiento.id),this.axios.post("".concat(this.url,"/Observaciones/show"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_observaciones=e.data.array_observaciones}))},registrarObservaciones:function(){var t=this;if(this.errors=[],this.observacion.descripcion.length<30)this.errors.push("Debe ingresar al menos 30 caracteres.");else{var e=new FormData;e.append("idexpediente",this.expediente.id),e.append("idprocedimiento",this.procedimiento.id),e.append("idusuario",this.usuario.id),e.append("idruta",this.ruta.id),e.append("descripcion",this.observacion.descripcion),this.axios.post("".concat(this.url,"/Observaciones/store"),e).then((function(e){t.resetearValores(),e.data.error?t.$root.errorAlert(e.data.message):(t.$root.successAlert(e.data.message),t.getObservaciones())}))}},actualizarObservaciones:function(){var t=this;if(this.errors=[],this.observacion.descripcion.length<30)this.errors.push("Debe ingresar al menos 30 caracteres.");else{var e=new FormData;e.append("id",this.observacion.id),e.append("descripcion",this.observacion.descripcion),this.axios.post("".concat(this.url,"/Observaciones/update"),e).then((function(e){t.resetearValores(),e.data.error?t.$root.errorAlert(e.data.message):(t.$root.successAlert(e.data.message),t.getObservaciones())}))}},eliminarObservaciones:function(t){var e=this,a=new FormData;a.append("id",t),this.$bvModal.msgBoxConfirm("¿Seguro que quieres eliminar estas observaciones?",{title:"Eliminar observaciones",okVariant:"danger",okTitle:"Eliminar",cancelTitle:"Cancelar",centered:!0}).then((function(t){t&&e.axios.post("".concat(e.url,"/Observaciones/delete"),a).then((function(t){e.resetearValores(),t.data.error?e.$root.errorAlert(t.data.message):(e.$root.successAlert(t.data.message),e.getObservaciones())}))}))},resetearValores:function(){this.observacion.id=null,this.observacion.descripcion=""}}},q=U,V=(a("20fc"),Object(p["a"])(q,D,S,!1,null,"343c71e0",null)),z=V.exports,L={name:"observar",props:{ruta:Object,movimiento:Object},components:{observaciones:z,movimiento_expediente:h},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.observaciones.cantidadObservaciones()&&this.errors.push("Debe registrar observaciones para el expediente seleccionado."),!this.errors.length}}},N=L,F=(a("9191"),a("7b0c"),Object(p["a"])(N,E,O,!1,null,"61dc3727",null)),B=F.exports,M={name:"index",props:{movimiento:Object},components:{aprobar:R,observar:B},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},G=M,J=(a("52e4"),Object(p["a"])(G,$,I,!1,null,"7c0333a6",null)),H=J.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),null!=t.ruta_seleccionada?a(t.ruta_seleccionada.etiqueta,{tag:"component",attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()],1):t._e()},K=[],Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Asignar asesor","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("div",{staticClass:"text-center mt-2 mb-4"},[a("b",[t._v("Asesor propuesto:")]),t._v(" "+t._s(t.asesor_propuesto.apn)+" ")]),a("asesores",{ref:"asesores",attrs:{ruta:t.ruta}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"2. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:1==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},W=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{staticClass:"mb-3",on:{submit:function(e){return e.preventDefault(),t.registrarAsesor(e)}}},[a("b-row",{staticClass:"justify-content-lg-center"},[a("b-col",{attrs:{col:"",lg:"6"}},[a("v-select",{staticClass:"style-chooser",attrs:{options:t.array_docente,reduce:function(t){return t},label:"apn",placeholder:"-- Elija un asesor --"},scopedSlots:t._u([{key:"search",fn:function(e){var i=e.attributes,s=e.events;return[a("input",t._g(t._b({staticClass:"vs__search",attrs:{required:!t.docente_seleccionado}},"input",i,!1),s))]}}]),model:{value:t.docente_seleccionado,callback:function(e){t.docente_seleccionado=e},expression:"docente_seleccionado"}},[a("template",{slot:"no-options"},[t._v(" Opción no encontrada... ")])],2)],1),a("b-col",{attrs:{col:"",lg:"2"}},[a("b-button",{staticStyle:{height:"34px"},attrs:{variant:"success",size:"sm",type:"submit",title:"Añadir",disabled:null!=t.asesor}},[a("b-icon",{attrs:{icon:"plus-circle"}}),t._v(" Asignar ")],1)],1)],1)],1),null!=t.asesor?a("table",{staticClass:"table table-bordered table-sm"},[t._m(0),a("tbody",[a("tr",[a("td",{staticClass:"text-center",domProps:{textContent:t._s(t.asesor.nro_documento)}}),a("td",{staticClass:"text-left",domProps:{textContent:t._s(t.asesor.apn)}}),a("td",{staticClass:"text-center",domProps:{textContent:t._s(t.asesor.tipo)}}),a("td",{staticClass:"text-center"},[a("b-button",{attrs:{variant:"danger",size:"sm",title:"Eliminar asesor"},on:{click:function(e){return t.eliminarAsesor(t.asesor.id)}}},[a("b-icon",{attrs:{icon:"trash"}})],1)],1)])])]):t._e(),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1)},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticClass:"text-center"},[t._v("Nro. Documento")]),a("th",{staticClass:"text-left"},[t._v("Docente")]),a("th",{staticClass:"text-center"},[t._v("Tipo")]),a("th",{staticClass:"text-center"},[t._v("Eliminar")])])}],tt=(a("7db0"),a("c975"),{name:"asesores",props:{ruta:Object},data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,procedimiento:this.$store.getters.getProcedimiento,expediente:this.$store.getters.getExpediente,asesor_anterior:null,asesor:null,docente_seleccionado:null,array_docente:[],array_asesores_ant:[],errors:[]}},created:function(){this.getCandidatosAsesores(),this.getAsesoresAnteriores(),this.getAsesor()},methods:{existeAsesor:function(){return null!=this.asesor},getCandidatosAsesores:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Usuario/getDocentes"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_docente=e.data.array_docente}))},getAsesoresAnteriores:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Persona/get_all_asesores"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_asesores_ant=e.data.array_asesor}))},getAsesor:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),e.append("idprocedimiento",this.procedimiento.id),e.append("idusuario",this.usuario.id),this.axios.post("".concat(this.url,"/Persona/get_asesor"),e).then((function(e){e.data.error?console.log(e.data.message):t.asesor=e.data.asesor}))},encontrarAsesorAnterior:function(t){var e=this.array_asesores_ant.find((function(e){return e.iddocente===t})),a=this.array_asesores_ant.indexOf(e);return-1!=a},registrarAsesor:function(){var t=this;if(this.errors=[],this.array_asesores_ant.length>0&&this.encontrarAsesorAnterior(this.docente_seleccionado.id))this.errors.push("El docente seleccionado denego la asesoria del expediente seleccionado.");else{var e=new FormData;e.append("idexpediente",this.expediente.id),e.append("idprocedimiento",this.procedimiento.id),e.append("idusuario",this.usuario.id),e.append("idruta",this.ruta.id),e.append("iddocente",this.docente_seleccionado.id),e.append("tipo","asesor"),this.axios.post("".concat(this.url,"/Persona/store"),e).then((function(e){t.resetearValores(),e.data.error?t.$root.errorAlert(e.data.message):(t.$root.successAlert(e.data.message),t.getAsesor())}))}},eliminarAsesor:function(t){var e=this,a=new FormData;a.append("id",t),a.append("idexpediente",this.expediente.id),a.append("idprocedimiento",this.procedimiento.id),a.append("tipo","asesor"),this.$bvModal.msgBoxConfirm("¿Esta seguro de eliminar el asesor seleccionado?",{title:"Eliminar asesor",okVariant:"danger",okTitle:"SI",cancelTitle:"NO",centered:!0}).then((function(t){t&&e.axios.post("".concat(e.url,"/Persona/delete"),a).then((function(t){e.resetearValores(),e.asesor=null,t.data.error?e.$root.errorAlert(t.data.message):(e.$root.successAlert(t.data.message),e.getAsesor())}))}))},resetearValores:function(){this.docente_seleccionado=null,this.errors=[]}}}),et=tt,at=(a("b4d4"),a("fa13"),Object(p["a"])(et,Y,Z,!1,null,"7bff8566",null)),it=at.exports,st={name:"informar",props:{ruta:Object,movimiento:Object},components:{asesores:it,movimiento_expediente:h},data:function(){return{url:this.$root.API_URL,expediente:this.$store.getters.getExpediente,tabIndex:0,tabIndex2:0,asesor_propuesto:{},errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id),this.getAsesorPropuesto()},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return this.$refs.asesores.existeAsesor()||this.errors.push("Debe asignar un asesor al expediente selecccionado."),!this.errors.length},getAsesorPropuesto:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Expediente/getAsesorPropuesto"),e).then((function(e){e.data.error?console.log(e.data.message):t.asesor_propuesto=e.data.asesor_propuesto}))}}},ot=st,rt=(a("31c3"),a("0167"),Object(p["a"])(ot,Q,W,!1,null,"eed5d9fe",null)),nt=rt.exports,ct={name:"index",props:{movimiento:Object},components:{informar:nt},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},dt=ct,lt=(a("9990"),Object(p["a"])(dt,X,K,!1,null,"51dbe069",null)),ut=lt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),null!=t.ruta_seleccionada?a(t.ruta_seleccionada.etiqueta,{tag:"component",attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()],1):t._e()},pt=[],bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{asesor:t.asesor,nombre_archivo_pdf:"resolucion_asesor_tema.php",boton_nombre:"Resolución asignación asesor"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"1",nombre_asignado:"Resolución asignación de asesor y tema"}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"3. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:2==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},ht=[],ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-3"},[a("b-form",{ref:"frm_datos_pdf",staticClass:"mb-3",attrs:{action:t.url_pdf+t.nombre_archivo_pdf,method:"post"},on:{submit:function(e){return e.preventDefault(),t.generarPdf(e)}}},[a("input",{attrs:{type:"hidden",name:"expediente"}}),a("input",{attrs:{type:"hidden",name:"graduando"}}),a("input",{attrs:{type:"hidden",name:"movimiento"}}),a("input",{attrs:{type:"hidden",name:"asesor"}}),a("input",{attrs:{type:"hidden",name:"jurados"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"mx-auto"},[a("b-button",{attrs:{type:"submit",variant:"success"}},[a("b-icon",{attrs:{icon:"file-earmark-arrow-down"}}),t._v(" "+t._s(t.boton_nombre)+" ")],1)],1)])])],1)},_t=[],vt={name:"generacion-documento",props:{asesor:Object,jurados:Array,nombre_archivo_pdf:String,boton_nombre:String},data:function(){return{url_pdf:"".concat(this.$root.API_URL,"/pdfs/titulo_profesional_sustentacion_tesis/"),graduando:this.$store.getters.getGraduando,expediente:this.$store.getters.getExpediente,show_frame:"none"}},methods:{generarPdf:function(){this.$refs.frm_datos_pdf.expediente.value=JSON.stringify(this.expediente),this.$refs.frm_datos_pdf.graduando.value=JSON.stringify(this.graduando),this.$refs.frm_datos_pdf.asesor.value=JSON.stringify(this.asesor),this.$refs.frm_datos_pdf.jurados.value=JSON.stringify(this.jurados),this.$refs.frm_datos_pdf.submit(),this.show_frame="block"}}},gt=vt,xt=Object(p["a"])(gt,ft,_t,!1,null,null,null),yt=xt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{staticClass:"mb-3",on:{submit:function(e){return e.preventDefault(),t.registrarDocumento(e)}}},[null==t.array_opciones?a("b-row",[a("b-col",{attrs:{sm:"12",md:"8",lg:"8"}},[a("b-form-file",{attrs:{placeholder:"Seleccione un archivo...",accept:".jpg, .png, .pdf",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-col",{attrs:{sm:"12",md:"4",lg:"4"}},[a("b-button",{attrs:{type:"submit",variant:"success",title:"Subir Archivo",disabled:t.array_documento.length==t.max_docs}},[a("b-icon",{attrs:{icon:"plus-circle"}})],1)],1)],1):a("b-row",[a("b-col",{attrs:{sm:"12",md:"3",lg:"3"}},[a("b-form-select",{staticClass:"mr-3",attrs:{options:t.array_opciones,required:""},model:{value:t.opcion_documento,callback:function(e){t.opcion_documento=e},expression:"opcion_documento"}})],1),a("b-col",{attrs:{sm:"12",md:"6",lg:"6"}},[a("b-form-file",{attrs:{placeholder:"Seleccione un archivo...",accept:".jpg, .png, .pdf",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("b-col",{attrs:{sm:"12",md:"3",lg:"3"}},[a("b-button",{attrs:{type:"submit",variant:"success",title:"Subir Archivo",disabled:t.array_documento.length==t.max_docs}},[a("b-icon",{attrs:{icon:"plus-circle"}})],1)],1)],1)],1),a("b-table",{attrs:{items:t.array_documento,fields:t.columnas_documento,striped:"",bordered:"",small:"","show-empty":"","empty-text":"No hay documentos que mostrar.","primary-key":"id",busy:t.estaOcupado},scopedSlots:t._u([{key:"cell(acciones)",fn:function(e){return[a("form",{ref:"show_file",attrs:{action:t.url_show_file,target:"document-frame",method:"post"}},[a("input",{attrs:{type:"hidden",name:"file_id"},domProps:{value:e.item.id}})]),a("b-button",{staticClass:"mr-1",attrs:{variant:"warning",size:"sm",title:"Visualizar"},on:{click:function(a){return t.mostrarArchivo(e.item.nombre)}}},[a("b-icon",{attrs:{icon:"eye"}})],1),a("b-button",{attrs:{variant:"danger",size:"sm",title:"Eliminar"},on:{click:function(a){return t.eliminarDocumento(e.item)}}},[a("b-icon",{attrs:{icon:"trash"}})],1)]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v("Cargando...")])],1)]},proxy:!0}])}),a("div",{staticClass:"modal fade centered-modal",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-primary modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.nombre_documento)}}),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.modal=0}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("iframe",{attrs:{name:"document-frame",src:t.url_show_file,width:"660",height:"380",frameborder:"0",allowtransparency:"true"}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.modal=0}}},[t._v("Cerrar")])])])])])],1)},At=[],$t={name:"documentos",props:{ruta:Object,nombre_asignado:String,array_opciones:Array,max_docs:String},data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,procedimiento:this.$store.getters.getProcedimiento,expediente:this.$store.getters.getExpediente,url_show_file:this.$root.API_URL+"/utils/show_file.php",array_documento:[],columnas_documento:[{key:"nombre_asignado",label:"Nombre documento"},{key:"nombre_archivo",label:"Nombre archivo"},{key:"acciones",label:"Acciones",class:"text-center"}],file:null,estaOcupado:!1,modal:0,nombre_documento:"",opcion_documento:null}},created:function(){this.getDocumento()},methods:{cantidadDocumentos:function(){return this.array_documento.length},mostrarArchivo:function(t){this.$refs.show_file.submit(),this.nombre_documento=t,this.modal=1},getDocumento:function(){var t=this,e=new FormData;e.append("idprocedimiento",this.procedimiento.id),e.append("idusuario",this.usuario.id),e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Archivo/get"),e).then((function(e){if(e.data.error)console.log(e.data.message);else for(var a in t.array_documento=e.data.array_documento,t.array_documento)t.deshabilitarTipoDocumento(t.array_documento[a].nombre_asignado)}))},registrarDocumento:function(){var t,e=this;t=null!=this.nombre_asignado?this.nombre_asignado:this.opcion_documento;var a=new FormData;a.append("idexpediente",this.expediente.id),a.append("idprocedimiento",this.procedimiento.id),a.append("idusuario",this.usuario.id),a.append("idruta",this.ruta.id),a.append("nombre_asignado",t),a.append("file",this.file),this.estaOcupado=!0,this.axios.post("".concat(this.url,"/Archivo/store"),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.resetearValores(),t.data.error?e.$root.errorAlert(t.data.message):(e.$root.successAlert(t.data.message),e.getDocumento())}))},eliminarDocumento:function(t){var e=this,a=new FormData;a.append("id",t.id),this.$bvModal.msgBoxConfirm("¿Esta seguro de eliminar el documento?",{title:"Eliminar documento",okVariant:"danger",okTitle:"SI",cancelTitle:"NO",centered:!0}).then((function(i){i&&e.axios.post("".concat(e.url,"/Archivo/delete"),a).then((function(a){e.resetearValores(),e.habilitarTipoDocumento(t.nombre_asignado),a.data.error?e.$root.errorAlert(a.data.message):(e.$root.successAlert(a.data.message),e.getDocumento())}))}))},habilitarTipoDocumento:function(t){for(var e in this.array_opciones)if(this.array_opciones[e].value==t){this.array_opciones[e].disabled=!1;break}},deshabilitarTipoDocumento:function(t){for(var e in this.array_opciones)if(this.array_opciones[e].value==t){this.array_opciones[e].disabled=!0;break}},resetearValores:function(){this.file=null,this.errors=[],this.opcion_documento=null,this.estaOcupado=!1}}},It=$t,kt=(a("efd0"),Object(p["a"])(It,Ct,At,!1,null,"337fbd56",null)),wt=kt.exports,jt={name:"derivar",props:{ruta:Object,movimiento:Object},components:{generacion_documento:yt,documentos:wt,movimiento_expediente:h},data:function(){return{url:this.$root.API_URL,expediente:this.$store.getters.getExpediente,tabIndex:0,tabIndex2:0,asesor:null,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id),this.getAsesor()},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=!0),1==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},getAsesor:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),e).then((function(e){e.data.error?console.log(e.data.message):t.asesor=e.data.asesor}))}}},Pt=jt,Tt=(a("dd56"),a("591e"),Object(p["a"])(Pt,bt,ht,!1,null,"59d8e2d9",null)),Rt=Tt.exports,Et={name:"index",props:{movimiento:Object},components:{derivar:Rt},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},Ot=Et,Dt=(a("56b2"),Object(p["a"])(Ot,mt,pt,!1,null,"373afb4c",null)),St=Dt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),null!=t.ruta_seleccionada?a(t.ruta_seleccionada.etiqueta,{tag:"component",attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()],1):t._e()},qt=[],Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Asignar jurado","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("jurados",{ref:"jurados",attrs:{ruta:t.ruta}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"2. Generar documento","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("generacion_documento",{ref:"documentos",attrs:{asesor:t.asesor,jurados:t.array_jurado_asignado,nombre_archivo_pdf:"resolucion_designacion_jurado.php",boton_nombre:"Resolución designación jurado"}})],1),a("b-tab",{attrs:{title:"3. Añadir documento","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"1",nombre_asignado:"Resolución de designación de jurado"}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"4. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<3}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:3==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},zt=[],Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form",{attrs:{inline:""},on:{submit:function(e){return e.preventDefault(),t.registrarJurado(e)}}},[a("b-form-select",{staticClass:"mr-3",attrs:{options:t.jurado_tipo,id:"tipo_jurado",required:""},model:{value:t.tipo,callback:function(e){t.tipo=e},expression:"tipo"}}),a("div",{staticClass:"col-lg-7"},[a("v-select",{staticClass:"style-chooser",attrs:{options:t.array_docente,reduce:function(t){return t.id},label:"apn",placeholder:"-- Elija Jurado --"},scopedSlots:t._u([{key:"search",fn:function(e){var i=e.attributes,s=e.events;return[a("input",t._g(t._b({staticClass:"vs__search",attrs:{required:!t.iddocente}},"input",i,!1),s))]}}]),model:{value:t.iddocente,callback:function(e){t.iddocente=e},expression:"iddocente"}},[a("template",{slot:"no-options"},[t._v(" Opción no encontrada... ")])],2)],1),a("b-button",{attrs:{variant:"success",size:"sm",type:"submit",title:"Añadir"}},[a("b-icon",{attrs:{icon:"plus-circle"}})],1)],1),a("b-table",{attrs:{items:t.array_jurado,fields:t.columnas_jurado,striped:"",bordered:"",small:"","show-empty":"","empty-text":"No hay jurados que mostrar.","primary-key":"id"},scopedSlots:t._u([{key:"cell(eliminar)",fn:function(e){return[a("b-button",{attrs:{variant:"danger",size:"sm","data-toggle":"tooltip","data-placement":"left",title:"Eliminar"},on:{click:function(a){return t.eliminarJurado(e.item.id,e.item.tipo)}}},[a("b-icon",{attrs:{icon:"trash"}})],1)]}}])}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1)},Nt=[],Ft={props:{ruta:Object},data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,procedimiento:this.$store.getters.getProcedimiento,expediente:this.$store.getters.getExpediente,fecha_sorteo:null,array_jurado:[],array_docente:[],columnas_jurado:[{key:"tipo",label:"Tipo / Cargo",class:"text-center"},{key:"apn",label:"Docente",class:"text-left"},{key:"eliminar",label:"Eliminar",class:"text-center"}],jurado_tipo:[{value:null,text:"--Seleccione tipo--",disabled:!0},{value:"presidente",text:"Presidente",disabled:!1},{value:"secretario",text:"Secretario",disabled:!1},{value:"suplente",text:"Suplente",disabled:!1}],tipo:null,iddocente:null,errors:[]}},created:function(){this.getCandidatosJurados(),this.getJurados()},methods:{cantidadJurados:function(){return this.array_jurado.length},getCandidatosJurados:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Usuario/getDocentes"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_docente=e.data.array_docente}))},getJurados:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),e.append("idprocedimiento",this.procedimiento.id),e.append("idusuario",this.usuario.id),this.axios.post("".concat(this.url,"/Persona/get_jurado"),e).then((function(e){if(e.data.error)console.log(e.data.message);else for(var a in t.array_jurado=e.data.array_jurado,t.array_jurado)t.deshabilitarTipoJurado(t.array_jurado[a].tipo)}))},registrarJurado:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),e.append("idprocedimiento",this.procedimiento.id),e.append("idusuario",this.usuario.id),e.append("idruta",this.ruta.id),e.append("iddocente",this.iddocente),e.append("tipo",this.tipo),this.axios.post("".concat(this.url,"/Persona/store"),e).then((function(e){t.resetearValores(),e.data.error?t.$root.errorAlert(e.data.message):(t.$root.successAlert(e.data.message),t.getJurados())}))},eliminarJurado:function(t,e){var a=this,i=new FormData;i.append("id",t),i.append("idexpediente",this.expediente.id),i.append("idprocedimiento",this.procedimiento.id),i.append("tipo",e),this.$bvModal.msgBoxConfirm("¿Esta seguro de eliminar el jurado seleccionado?",{title:"Eliminar jurado",okVariant:"danger",okTitle:"SI",cancelTitle:"NO",centered:!0}).then((function(t){t&&a.axios.post("".concat(a.url,"/Persona/delete"),i).then((function(t){a.resetearValores(),t.data.error?a.$root.errorAlert(t.data.message):(a.$root.successAlert(t.data.message),a.habilitarTipoJurado(e),a.getJurados())}))}))},habilitarTipoJurado:function(t){for(var e in this.jurado_tipo)if(this.jurado_tipo[e].value==t){this.jurado_tipo[e].disabled=!1;break}},deshabilitarTipoJurado:function(t){for(var e in this.jurado_tipo)if(this.jurado_tipo[e].value==t){this.jurado_tipo[e].disabled=!0;break}},resetearValores:function(){this.iddocente=null,this.tipo=null,this.errors=[]}}},Bt=Ft,Mt=(a("3a96"),a("fd63"),Object(p["a"])(Bt,Lt,Nt,!1,null,"2c9bf8bb",null)),Gt=Mt.exports,Jt={name:"derivar",props:{ruta:Object,movimiento:Object},components:{jurados:Gt,generacion_documento:yt,documentos:wt,movimiento_expediente:h},data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,procedimiento:this.$store.getters.getProcedimiento,expediente:this.$store.getters.getExpediente,tabIndex:0,tabIndex2:0,array_jurado_asignado:[],asesor:null,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id),this.getAsesor()},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=this.validarTab1()),1==this.tabIndex&&(t=!0),2==this.tabIndex&&(t=this.validarTab3()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return this.$refs.jurados.cantidadJurados()<3&&this.errors.push("Debe agregar 03 integrantes para el jurado."),!this.errors.length&&(this.getJuradosAsignados(),!0)},validarTab3:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length},getAsesor:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),this.axios.post("".concat(this.url,"/Persona/get_asesor_expediente"),e).then((function(e){e.data.error?console.log(e.data.message):t.asesor=e.data.asesor}))},getJuradosAsignados:function(){var t=this,e=new FormData;e.append("idexpediente",this.expediente.id),e.append("idprocedimiento",this.procedimiento.id),e.append("idusuario",this.usuario.id),this.axios.post("".concat(this.url,"/Persona/jurado_asignado_expediente"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_jurado_asignado=e.data.array_jurado_asignado}))}}},Ht=Jt,Xt=(a("afff"),a("dbb1"),Object(p["a"])(Ht,Vt,zt,!1,null,"ad800a02",null)),Kt=Xt.exports,Qt={name:"index",props:{movimiento:Object},components:{derivar:Kt},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},Wt=Qt,Yt=(a("c337"),Object(p["a"])(Wt,Ut,qt,!1,null,"71a072ce",null)),Zt=Yt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),null!=t.ruta_seleccionada?a(t.ruta_seleccionada.etiqueta,{tag:"component",attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()],1):t._e()},ee=[],ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Verificar pagos","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("b-table",{attrs:{bordered:"",striped:"",items:t.array_pagos,fields:t.columnas_pagos,"show-empty":"","empty-text":"No hay pagos que mostrar.",busy:t.isBusy},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v("Cargando...")])],1)]},proxy:!0}],null,!1,2328017198)}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"2. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:1==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},ie=[],se={name:"enviado-aprobar",props:{ruta:Object,movimiento:Object},components:{movimiento_expediente:h},data:function(){return{url:this.$root.API_URL,graduando:this.$store.getters.getGraduando,expediente:this.$store.getters.getExpediente,tabIndex:0,tabIndex2:0,array_conceptos:[13,27,961],conceptos:{13:"CONSTANCIA DE INGRESO O DE EGRESADO",27:"CONSTANCIA DE BIBLIOTECA",961:"CONSTANCIA PRIMERA MATRICULA PREGRADO"},array_pagos:[],array_tipo_documento:[{value:null,text:"--Seleccione tipo--",disabled:!0},{value:"Constancia de idiomas",text:"Constancia de idiomas",disabled:!1},{value:"Antecedentes penales",text:"Antecedentes penales",disabled:!1}],columnas_pagos:[{key:"concepto",label:"Concepto de pago",class:"text-left"},{key:"nro_recibo",label:"Núm. recibo",class:"text-center"},{key:"fecha_pago",label:"Fecha de pago",class:"text-center"},{key:"monto",label:"Monto pagado",class:"text-center"}],asesor:null,errors:[],isBusy:!1}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id),this.getPagos()},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return this.verificarPagos(),!this.errors.length},getPagos:function(){var t=this,e=new FormData;e.append("cui",this.graduando.cui),e.append("nues",this.expediente.nues),e.append("espe",this.expediente.espe),this.toggleBusy(),this.axios.post("".concat(this.url,"/Caja/getPagosProfesionalTesis"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_pagos=e.data.array_pagos,t.toggleBusy()}))},verificarPagos:function(){if(this.array_pagos.length>0)for(var t=0;t<this.array_conceptos.length;t++){for(var e=!1,a=0;a<this.array_pagos.length;a++)if(this.array_pagos[a].idconcepto==this.array_conceptos[t]){e=!0;break}0==e&&this.errors.push("No se encontró el concepto: ".concat(this.conceptos[this.array_conceptos[t]]))}},toggleBusy:function(){this.isBusy=!this.isBusy}}},oe=se,re=(a("089d"),a("f625"),Object(p["a"])(oe,ae,ie,!1,null,"67f34f0d",null)),ne=re.exports,ce={name:"index",props:{movimiento:Object},components:{aprobar:ne},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},de=ce,le=(a("4302"),Object(p["a"])(de,te,ee,!1,null,"f487dec6",null)),ue=le.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),null!=t.ruta_seleccionada?a(t.ruta_seleccionada.etiqueta,{tag:"component",attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()],1):t._e()},pe=[],be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{nombre_archivo_pdf:"autorizacion_emision_diploma.php",boton_nombre:"Autorización emisión diploma"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"1",nombre_asignado:"Autorización de emisión de diploma"}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"3. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:2==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},he=[],fe={name:"derivar",props:{ruta:Object,movimiento:Object},components:{generacion_documento:yt,documentos:wt,movimiento_expediente:h},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=!0),1==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length}}},_e=fe,ve=(a("ec9b"),a("3962"),Object(p["a"])(_e,be,he,!1,null,"7cf5b7f8",null)),ge=ve.exports,xe={name:"index",props:{movimiento:Object},components:{derivar:ge},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},ye=xe,Ce=(a("e138"),Object(p["a"])(ye,me,pe,!1,null,"3c0e3c2f",null)),Ae=Ce.exports,$e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.movimiento?a("div",[a("div",{staticClass:"row justify-content-center mb-1"},[a("fieldset",{staticClass:"col-8 col-md-6 px-3"},[a("legend",[t._v("Elija una opción:")]),a("div",{staticClass:"row justify-content-center"},[t._l(t.array_ruta,(function(e,i){return[a("b-form-radio",{key:i,staticClass:"m-2",attrs:{value:e,button:"",name:"acciones","button-variant":"outline-primary"},model:{value:t.ruta_seleccionada,callback:function(e){t.ruta_seleccionada=e},expression:"ruta_seleccionada"}},[t._v(" "+t._s(t._f("capitalize")(e.etiqueta))+" Expediente ")])]}))],2)])]),null!=t.ruta_seleccionada?a(t.ruta_seleccionada.etiqueta,{tag:"component",attrs:{ruta:t.ruta_seleccionada,movimiento:t.movimiento}}):t._e()],1):t._e()},Ie=[],ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[t.existeRecursoRutaVecinas?[a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",[a("li",[t._v("Debe deshacer las acciones realizadas en otras opciones de este procedimiento")])])])]:[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{staticStyle:{"min-height":"250px"},attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("b-tab",{attrs:{title:"1. Generar documento","title-item-class":"disabledTab",disabled:t.tabIndex2<0}},[a("generacion_documento",{ref:"documentos",attrs:{nombre_archivo_pdf:"diploma.php",boton_nombre:"Diploma"}})],1),a("b-tab",{attrs:{title:"2. Añadir documento","title-item-class":"disabledTab",disabled:t.tabIndex2<1}},[a("documentos",{ref:"documentos",attrs:{ruta:t.ruta,max_docs:"1",nombre_asignado:"Diploma"}}),t.errors.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e()],1),a("b-tab",{attrs:{title:"3. "+t.ruta.etiqueta.charAt(0).toUpperCase()+t.ruta.etiqueta.slice(1)+" expediente","title-item-class":"disabledTab",disabled:t.tabIndex2<2}},[a("movimiento_expediente",{attrs:{movimiento:t.movimiento,ruta:t.ruta}})],1)],1)],1),a("div",{staticClass:"text-center"},[a("b-button-group",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-1",attrs:{disabled:0==t.tabIndex},on:{click:t.prevTab}},[t._v("Anterior")]),a("b-button",{attrs:{disabled:2==t.tabIndex},on:{click:t.nextTab}},[t._v("Siguiente")])],1)],1)]],2)},we=[],je={name:"finalizar",props:{ruta:Object,movimiento:Object},components:{generacion_documento:yt,documentos:wt,movimiento_expediente:h},data:function(){return{url:this.$root.API_URL,tabIndex:0,tabIndex2:0,errors:[]}},computed:{existeRecursoRutaVecinas:function(){return this.$store.state.rutaVecinaActiva}},created:function(){this.$store.dispatch("verificarRecursoRutasVecinas",this.ruta.id)},methods:{prevTab:function(){this.errors=[],this.tabIndex2--,this.tabIndex--},nextTab:function(){this.errors=[];var t=!1;0==this.tabIndex&&(t=!0),1==this.tabIndex&&(t=this.validarTab1()),t&&(this.tabIndex2++,this.$nextTick((function(){this.tabIndex++})))},validarTab1:function(){return 0==this.$refs.documentos.cantidadDocumentos()&&this.errors.push("Debe registrar documentos para el expediente seleccionado."),!this.errors.length}}},Pe=je,Te=(a("aa53"),a("ca54"),Object(p["a"])(Pe,ke,we,!1,null,"070437b5",null)),Re=Te.exports,Ee={name:"index",props:{movimiento:Object},components:{finalizar:Re},data:function(){return{url:this.$root.API_URL,ruta_seleccionada:null,estados:this.$root.estados}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},computed:{array_ruta:function(){return this.$store.state.rutas}},created:function(){this.$store.dispatch("getRutas")},methods:{}},Oe=Ee,De=(a("4b23"),Object(p["a"])(Oe,$e,Ie,!1,null,"31ed68ff",null)),Se=De.exports,Ue={name:"tituloprofesional-sustentaciontesis",props:{idexpediente:String},components:{verificar_requisitos_grado:A,verificar_pertinencia_tema:H,designar_asesor_comision_calificacion:ut,emitir_resolucion_asignacion_asesor_tema:St,nombrar_jurado_adjuntar_resolucion:Zt,verificar_pagos_adjuntar_documentos:ue,aprobar_consejo_facultad_autorizar_emision_diploma:Ae,generar_imprimir_diploma:Se},data:function(){return{url:this.$root.API_URL,url_show_file:"".concat(this.$root.API_URL,"/utils/show_file.php"),usuario:this.$store.getters.getUsuario,procedimiento:this.$store.getters.getProcedimiento,expediente:{},graduando:{},movimiento:{},estados:this.$root.estados,color_acciones:this.$root.color_acciones,array_archivo:[],array_archivo_ultimo:[],columnas_archivos:[{key:"nombre",label:"Nombre",class:"text-left",sortable:!0},{key:"procedimiento",label:"Procedimiento",class:"text-left",sortable:!0},{key:"area",label:"Rol-Area",class:"text-center",sortable:!0},{key:"descargar",label:"Archivo",class:"text-center"}],columnas_archivos_ultimo:[{key:"nombre",label:"Nombre",class:"text-left"},{key:"procedimiento",label:"Procedimiento",class:"text-left"},{key:"area",label:"Rol-Area",class:"text-center"},{key:"descargar",label:"Archivo",class:"text-center"}],modal:0,nombre_documento:""}},created:function(){null!=this.idexpediente?(this.getLastMovimiento(),this.getGraduando(),this.getExpediente(),this.getArchivos(),this.getArchivosProcOrigen()):this.$router.push({name:"home"})},methods:{getLastMovimiento:function(){var t=this,e=new FormData;e.append("idproc_destino",this.procedimiento.id),e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Movimiento/ultimoMovimiento"),e).then((function(e){e.data.error?console.log(e.data.message):t.movimiento=e.data.movimiento}))},mostrarArchivo:function(t,e){this.$refs.show_file.file_id.value=t,this.$refs.show_file.submit(),this.nombre_documento=e,this.modal=1},mostrarArchivoUltimo:function(t,e){this.$refs.show_file_ultimo.file_id.value=t,this.$refs.show_file_ultimo.submit(),this.nombre_documento=e,this.modal=1},getGraduando:function(){var t=this,e=new FormData;e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/GraduandoExpediente/getGraduando"),e).then((function(e){e.data.error?console.log(e.data.message):(t.graduando=e.data.graduando,t.$store.dispatch("setGraduando",t.graduando))}))},getExpediente:function(){var t=this,e=new FormData;e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Expediente/getExpById"),e).then((function(e){e.data.error?console.log(e.data.message):(t.expediente=e.data.expediente,t.$store.dispatch("setExpediente",t.expediente))}))},getArchivos:function(){var t=this,e=new FormData;e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Archivo/index"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_archivo=e.data.array_archivo}))},getArchivosProcOrigen:function(){var t=this,e=new FormData;e.append("idprocedimiento",this.procedimiento.id),e.append("idexpediente",this.idexpediente),this.axios.post("".concat(this.url,"/Archivo/show"),e).then((function(e){e.data.error?console.log(e.data.message):t.array_archivo_ultimo=e.data.array_archivo_ultimo}))}}},qe=Ue,Ve=(a("4d7d"),Object(p["a"])(qe,i,s,!1,null,"4a66b45b",null));e["default"]=Ve.exports},"6b3c":function(t,e,a){"use strict";var i=a("1fef"),s=a.n(i);s.a},"6ba7":function(t,e,a){"use strict";var i=a("a721"),s=a.n(i);s.a},"6f9b":function(t,e,a){},"709c":function(t,e,a){},7406:function(t,e,a){"use strict";var i=a("2aba"),s=a.n(i);s.a},"75c1":function(t,e,a){"use strict";var i=a("2257"),s=a.n(i);s.a},"7b0c":function(t,e,a){"use strict";var i=a("c497"),s=a.n(i);s.a},"7b16":function(t,e,a){"use strict";var i=a("7da2"),s=a.n(i);s.a},"7c46":function(t,e,a){},"7da2":function(t,e,a){},"7fdf":function(t,e,a){"use strict";var i=a("14a4"),s=a.n(i);s.a},"85ec":function(t,e,a){},8782:function(t,e,a){},"87fc":function(t,e,a){},"8c55":function(t,e,a){"use strict";var i=a("6537"),s=a.n(i);s.a},9191:function(t,e,a){"use strict";var i=a("3409"),s=a.n(i);s.a},9692:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid p-4",staticStyle:{"background-color":"#fff"}},[a("h5",{staticClass:"text-center font-weight-bold text-uppercase text-danger",domProps:{textContent:t._s(t.procedimiento.nombre+": Expedientes")}}),a("div",{staticClass:"text-center m-3"},[a("b-button",{attrs:{to:{name:"procedimientos"},variant:"outline-info"}},[a("b-icon",{attrs:{icon:"arrow-left-short"}}),t._v(" Atras ")],1)],1),a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:"","active-nav-item-class":"font-weight-bold text-uppercase text-danger"}},[a("b-tab",{attrs:{title:"Recibidos",active:""},on:{click:function(e){return t.getExpedientes(t.procedimiento.id)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"6",label:"Expedientes por página: "}},[a("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{"offset-md":"4",md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Buscar: "}},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:"Escriba el texto a buscar..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Limpiar")])],1)],1)],1)],1)],1),a("b-table",{attrs:{bordered:"",striped:"",items:t.array_expediente,fields:t.columnas,"show-empty":"","empty-text":"No hay expedientes recibidos que mostrar.","current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"empty-filtered-text":"No hay expedientes que coincidan con su búsqueda.",busy:t.isBusy},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(acciones)",fn:function(e){return[a("b-button",{attrs:{variant:"success",size:"sm","data-toggle":"tooltip","data-placement":"left",title:"Evaluar",to:{name:t.tramite.componente,params:{idexpediente:e.item.id}}}},[a("i",{staticClass:"fa fa-edit"}),t._v(" Evaluar ")])]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v("Cargando...")])],1)]},proxy:!0}])}),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{"offset-md":"6",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"right"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)])]),a("b-tab",{attrs:{title:"Enviados"},on:{click:function(e){return t.getExpedientesEnviados(t.procedimiento.id)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"6",label:"Expedientes por página: "}},[a("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{"offset-md":"4",md:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Buscar: "}},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:"Escriba el texto a buscar..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Limpiar")])],1)],1)],1)],1)],1),a("b-table",{attrs:{bordered:"",striped:"",items:t.array_exp_enviados,fields:t.columnas_enviados,"show-empty":"","empty-text":"No hay expedientes enviados que mostrar.","current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"empty-filtered-text":"No hay expedientes que coincidan con su búsqueda.",busy:t.isBusy},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(acciones)",fn:function(e){return[a("b-button",{attrs:{variant:"warning",size:"sm",title:"Deshacer"},on:{click:function(a){return t.deshacer(e.item.id,e.item.idexpediente,e.item.idproc_origen,e.item.fecha_ant,e.item.etiqueta)}}},[a("i",{staticClass:"fa fa-edit"}),t._v(" Deshacer ")])]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v("Cargando...")])],1)]},proxy:!0}])}),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{"offset-md":"6",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"right"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)])])],1)],1)],1)},s=[],o={name:"bandeja",data:function(){return{url:this.$root.API_URL,usuario:this.$store.getters.getUsuario,tramite:this.$store.getters.getTramite,procedimiento:this.$store.getters.getProcedimiento,color_estados:this.$root.color_estados,estados:this.$root.estados,array_expediente:[],array_exp_enviados:[],columnas:[{key:"codigo",label:"Código",class:"text-center"},{key:"graduando",label:"Graduando (s)"},{key:"escuela",label:"Escuela"},{key:"fecha_recepcion",label:"Fecha Recepción",class:"text-center"},{key:"acciones",label:"Acciones",class:"text-center"}],columnas_enviados:[{key:"codigo",label:"Código",class:"text-center"},{key:"graduando",label:"Graduando (s)"},{key:"escuela",label:"Escuela"},{key:"fecha_envio",label:"Fecha Envio",class:"text-center"},{key:"acciones",label:"Acciones",class:"text-center"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],filter:null,isBusy:!1}},created:function(){null!=this.procedimiento?this.getExpedientes(this.procedimiento.id):this.$router.push({name:"home"})},methods:{getExpedientes:function(t){var e=this,a=new FormData;a.append("idprocedimiento",t),a.append("codi_usuario",this.usuario.codi_usuario),this.toggleBusy(),this.axios.post("".concat(this.url,"/Expediente/getList"),a).then((function(t){t.data.error?e.$root.errorAlert(t.data.message):(e.array_expediente=t.data.array_expediente,e.totalRows=e.array_expediente.length),e.toggleBusy()}))},getExpedientesEnviados:function(t){var e=this,a=new FormData;a.append("idusuario",this.usuario.id),a.append("idproc_origen",t),this.toggleBusy(),this.axios.post("".concat(this.url,"/Movimiento/expedientes_enviados"),a).then((function(t){t.data.error?e.$root.errorAlert(t.data.message):(e.array_exp_enviados=t.data.array_exp_enviados,e.totalRows=e.array_exp_enviados.length),e.toggleBusy()}))},deshacer:function(t,e,a,i,s){var o=this;this.$bvModal.msgBoxConfirm("¿Seguro que quiere deshacer el movimiento realizado sobre este expediente?",{title:"Deshacer Movimiento",okVariant:"success",okTitle:"Deshacer",cancelTitle:"Cancelar",centered:!0}).then((function(r){if(r){var n=new FormData;n.append("id",t),n.append("idexpediente",e),n.append("idproc_origen",a),n.append("fecha_ant",i),n.append("estado_expediente_ant",o.estados[s]),o.axios.post("".concat(o.url,"/Movimiento/deshacer"),n).then((function(t){t.data.error?o.$root.errorAlert(t.data.message):(o.$root.successAlert(t.data.message),o.getExpedientesEnviados(a))}))}}))},toggleBusy:function(){this.isBusy=!this.isBusy},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},_countDownChanged:function(t){this.dismissCountDown=t}}},r=o,n=a("2877"),c=Object(n["a"])(r,i,s,!1,null,null,null);e["default"]=c.exports},9990:function(t,e,a){"use strict";var i=a("7c46"),s=a.n(i);s.a},a721:function(t,e,a){},aa53:function(t,e,a){"use strict";var i=a("f6a6"),s=a.n(i);s.a},afff:function(t,e,a){"use strict";var i=a("cd62"),s=a.n(i);s.a},b1c4:function(t,e,a){"use strict";var i=a("1429"),s=a.n(i);s.a},b23f:function(t,e,a){},b4d4:function(t,e,a){"use strict";var i=a("6f9b"),s=a.n(i);s.a},b648:function(t,e,a){"use strict";var i=a("e2c5"),s=a.n(i);s.a},bafc:function(t,e,a){},bb51:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container text-center"},[i("img",{attrs:{alt:"Vue logo",src:a("d4da")}})])}],o={name:"Home",data:function(){return{}}},r=o,n=a("2877"),c=Object(n["a"])(r,i,s,!1,null,null,null);e["default"]=c.exports},bce1:function(t,e,a){},be79:function(t,e,a){"use strict";var i=a("ef84"),s=a.n(i);s.a},c337:function(t,e,a){"use strict";var i=a("c8d9"),s=a.n(i);s.a},c497:function(t,e,a){},c8d9:function(t,e,a){},c8e6:function(t,e,a){"use strict";var i=a("e38a"),s=a.n(i);s.a},ca54:function(t,e,a){"use strict";var i=a("bafc"),s=a.n(i);s.a},cd62:function(t,e,a){},d372:function(t,e,a){"use strict";var i=a("6a90"),s=a.n(i);s.a},d4da:function(t,e,a){t.exports=a.p+"img/logo_unsa.098d5e1f.png"},dbb1:function(t,e,a){"use strict";var i=a("6a24"),s=a.n(i);s.a},dcb3a:function(t,e,a){},dd56:function(t,e,a){"use strict";var i=a("38cc"),s=a.n(i);s.a},df74:function(t,e,a){"use strict";var i=a("b23f"),s=a.n(i);s.a},e0ee:function(t,e,a){},e138:function(t,e,a){"use strict";var i=a("fe69"),s=a.n(i);s.a},e2c5:function(t,e,a){},e38a:function(t,e,a){},e484:function(t,e,a){},e4d8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container p-4",staticStyle:{"background-color":"#fff"}},[a("h5",{staticClass:"text-center font-weight-bold text-uppercase text-danger",domProps:{textContent:t._s(t.tramite.nombre+": Procedimientos")}}),a("div",{staticClass:"text-center mt-3"},[a("b-button",{attrs:{to:{name:"inicio"},variant:"outline-info"}},[a("b-icon",{attrs:{icon:"arrow-left-short"}}),t._v(" Atras ")],1)],1),t._l(t.objectGroups,(function(e,i){return a("div",{key:i,staticClass:"row text-center mt-3"},t._l(t.array_procedimiento.slice(i*t.itemsPerRow,(i+1)*t.itemsPerRow),(function(e,i){return a("div",{key:i,staticClass:"col-lg-4"},[a("div",{staticClass:"counter"},[a("h5",{staticClass:"count-text-title",domProps:{textContent:t._s(e.nombre)}}),0==e.total_expedientes?a("h2",{staticClass:"timer count-title count-number",domProps:{textContent:t._s(e.total_expedientes)}}):a("h2",{staticClass:"timer count-title count-number text-danger",domProps:{textContent:t._s(e.total_expedientes)}}),a("p",{staticClass:"count-text"},[t._v("Solicitudes pendientes")]),a("br"),a("b-button",{attrs:{pill:"",variant:"info"},on:{click:function(a){return t.mostrarBandeja(e)}}},[t._v(" Ver expedientes ")])],1)])})),0)}))],2)},s=[],o=(a("a630"),a("d3b7"),a("3ca3"),a("ddb0"),{name:"procedimientos",data:function(){return{url:this.$root.API_URL,tramite:this.$store.getters.getTramite,array_procedimiento:[],itemsPerRow:3}},computed:{objectGroups:function(){return Array.from(Array(Math.ceil(this.array_procedimiento.length/this.itemsPerRow)).keys())}},created:function(){null!=this.tramite?this.getProcedimientos():this.$router.push({name:"home"})},methods:{getProcedimientos:function(){var t=this,e=this.$store.getters.getUsuario,a=new FormData;a.append("idtramite",this.tramite.id),a.append("idrol",e.idrol),a.append("codi_usuario",e.codi_usuario),this.axios.post("".concat(this.url,"/Procedimiento/getProcedimientos"),a).then((function(e){e.data.error?console.log(e.data.message):t.array_procedimiento=e.data.array_procedimiento}))},mostrarBandeja:function(t){this.$store.dispatch("setProcedimiento",t),this.$router.push({name:"bandeja"})}}}),r=o,n=a("2877"),c=Object(n["a"])(r,i,s,!1,null,null,null);e["default"]=c.exports},ec9b:function(t,e,a){"use strict";var i=a("bce1"),s=a.n(i);s.a},ef84:function(t,e,a){},efd0:function(t,e,a){"use strict";var i=a("3bf5"),s=a.n(i);s.a},f24a:function(t,e,a){},f625:function(t,e,a){"use strict";var i=a("e0ee"),s=a.n(i);s.a},f6a6:function(t,e,a){},fa13:function(t,e,a){"use strict";var i=a("44e5"),s=a.n(i);s.a},fd63:function(t,e,a){"use strict";var i=a("f24a"),s=a.n(i);s.a},fe69:function(t,e,a){}});
//# sourceMappingURL=app.e132b85d.js.map